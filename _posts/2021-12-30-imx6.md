---
title: IoT 正向开发：iMX6 开发板 选型
categories:
- IOT
tags: 
---

> 更新中...最近需要使用一个通信模组的SDK，其运行在嵌入式linux上，包括了设备树和内核的patch、驱动、用户态库和可执行程序等，文档中说明其适配了i.MX6QSABRESD（ARM32）。我知道市面上有非常多的iMX6的开发板，作为练习IoT正向开发的开始，我希望自己编译uboot、linux运行在板子上，然后探索其中的道理。同时也是为了在使用SDK的过程中，能更好的排错。我先后体验了四家公司的开发板，分别是：百问网、迅为、飞思卡尔、野火。本以为很容易，没想到的是，倘若是怀着探索实现原理心态去看一些的开发板教程，那真是如此的令人费解。所以本篇的选型，说的不是性能，而是在我踩坑的过程中，看到了谁家的开发板能让学习者对计算机看的更透，更清楚。

## 尝试

### 百问网 

![image](https://xuanxuanblingbling.github.io/assets/pic/imx6/100ask.jpeg)

> 相关资料：[100ASK_IMX6ULL_MINI开发板](https://download.100ask.org/boards/Nxp/100ask_imx6ull_mini/index.html)

用这块板子的原因一是不明白，二是手里有：

1. 开始尝试这个，大家就能看出来我这个空子纯外行，人家SDK适配的是i.MX6Q，而这块板子是i.MX6ULL。
2. 这块板子是因为鸿蒙买的：[华为鸿蒙系统移植到imx6ull成功](https://zhuanlan.zhihu.com/p/232860040)

虽然早就听闻过韦东山老师的大名，但还是第一次看他板子的相关资料，总体感觉并不是很好，但可以理解：

1. 由于主要面向真的是纯新手，所以资料傻瓜化，很多步骤被封成了一个脚本，理解麻烦
2. 由于嵌入式不同板子间的知识是有重叠的，所以产生了学习资料复用，看起来非常的乱套
3. 由于经过多年的发展和积累，资料的维护和更新也比较乱套，导致资料非常多，但可能用不上

```
git clone https://github.com/u-boot/u-boot.git
sudo apt install -y gcc bison flex gcc-arm-linux-gnueabi libssl-dev
cd u-boot/
make mx6ull_14x14_evk_defconfig
make ARCH=arm CROSS_COMPILE=arm-linux-gnueabi-
```

其中需要解释的是：为什么要写mx6ull_14x14_evk_defconfig？还有没有别的？写别的行不行？


```c
➜  ls -al ./configs/ | grep imx6ull
-rw-r--r--     1 xuanxuan  staff   2200 12 30 18:23 colibri-imx6ull-emmc_defconfig
-rw-r--r--     1 xuanxuan  staff   2710 12 30 18:23 colibri-imx6ull_defconfig
-rw-r--r--     1 xuanxuan  staff   1316 12 30 18:23 o4-imx6ull-nano_defconfig
-rw-r--r--     1 xuanxuan  staff   1744 12 30 18:23 seeed_npi_imx6ull_defconfig
➜  ls -al ./configs/ | grep mx6ull 
-rw-r--r--     1 xuanxuan  staff   2200 12 30 18:23 colibri-imx6ull-emmc_defconfig
-rw-r--r--     1 xuanxuan  staff   2710 12 30 18:23 colibri-imx6ull_defconfig
-rw-r--r--     1 xuanxuan  staff   1361 12 30 18:23 mx6ull_14x14_evk_defconfig
-rw-r--r--     1 xuanxuan  staff   1333 12 30 18:23 mx6ull_14x14_evk_plugin_defconfig
-rw-r--r--     1 xuanxuan  staff   1316 12 30 18:23 o4-imx6ull-nano_defconfig
-rw-r--r--     1 xuanxuan  staff   1744 12 30 18:23 seeed_npi_imx6ull_defconfig
```

烧录到SD卡中，跳过两个扇区是imx6镜像的标准：

```
sudo dd if=u-boot-dtb.imx of=/dev/sdb seek=2
```

成功启动到uboot shell，之后也尝试了在这张板子上直接编译linux主线内核与buildroot文件系统，均成功启动。不过后来看到了其SDK适配的i.MX6Q，并且还在设备树上做了修改，我就知道用这张板子是不太可能直接跑通的。

### 迅为

因为之前买过迅为的4412开发板，于是搜到了他们家的确有i.MX6Q开发板：

- [迅为：i.MX6Q开发板-连接器版本](http://www.topeetboard.com/Product/iMX6.html)
- [迅为：i.MX6Q开发板-邮票孔版本](http://www.topeetboard.com/Product/iMX61.html)

但这只能看出来是i.MX6Q，是不是i.MX6QSABRESD呢？于是搜到：

- [编译nxp官方yocto在imx6q开发板运行, gpu不能正常工作](http://bbs.topeetboard.com/forum.php?mod=viewthread&tid=19839&highlight=imx6q)

其中提到：yocto执行配置是MACHINE=imx6qsabresd。暂时不必去理会yocto是个啥，但看到配置和目标的确一，那看起来很靠谱了，所以买：

![image](https://xuanxuanblingbling.github.io/assets/pic/imx6/topeet.jpeg)


或者说SABRESD又是啥呢？

```
➜  ls -al ./configs/ | grep imx6qs
➜  ls -al ./configs/ | grep mx6qs 
-rw-r--r--     1 xuanxuan  staff   2224 12 30 18:23 mx6qsabrelite_defconfig
```

- [uboot-imx](https://source.codeaurora.org/external/imx/uboot-imx)

可以通过网页上的tree标签来看到代码文件。

- [https://source.codeaurora.org/external/imx/uboot-imx/tree/configs/mx6qsabresd_defconfig?h=lf_v2021.04](https://source.codeaurora.org/external/imx/uboot-imx/tree/configs/mx6qsabresd_defconfig?h=lf_v2021.04)


### 飞思卡尔

![image](https://xuanxuanblingbling.github.io/assets/pic/imx6/freescale.jpeg)

### 野火

![image](https://xuanxuanblingbling.github.io/assets/pic/imx6/embedfire.jpeg)

- [2021 SCTF SU Writeup: easyiot](https://team-su.github.io/passages/2021-12-25-SCTF/)

- [i.MX Linux开发实战指南](http://doc.embedfire.com/linux/imx6/base/zh/latest/index.html)

```
git clone https://github.com/u-boot/u-boot.git
sudo apt install -y gcc bison flex gcc-arm-linux-gnueabi libssl-dev
cd u-boot/
make mx6ull_14x14_evk_defconfig
make ARCH=arm CROSS_COMPILE=arm-linux-gnueabi-
```


## 总结